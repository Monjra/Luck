!function(t){function e(t,e){var n=this;n.that=t,n.conf=e,n.Bbtn=!0,n.autocompleteEle=null,this.init=function(){n.setContent(),n.bindEvent()},this.init()}var n={width:400,maxRow:5,selectClass:"J_autocomplete",url:null};e.prototype={constructor:e,setContent:function(){var t=this;t.that.after('<div class="searchTipBox none '+t.conf.selectClass+'"></div>'),t.autocompleteEle=t.that.next("div."+t.conf.selectClass)},bindEvent:function(){var e=this;e.that.on("keyup",function(n){var a=t.trim(t(this).val());return""==a?void e.autocompleteEle.hide().html(""):void(40!=n.keyCode&&38!=n.keyCode&&e.getData(a))})},getData:function(e){var n=this;t.ajax({url:n.that.attr("data-url"),data:"keyword="+e,type:"post",dataType:"json",success:function(t){n.setSelect(t.status,t.data)}})},setSelect:function(t,e){var n=this;n.Bbtn?(n.autocompleteEle.show().selectFn({data:e,maxRow:10,temp:'<span class="f_l">{word}</span>约 {count} 个商品',tips:"",showAfter:function(){this.that.find("span.sel_span").hide(),this._handler(null,this.that)},change:function(){n.hide()},keydownCallback:function(){n.that.val(this.that.find("li.hovername span").text())},callbackDocu:function(){n.hide()}}),n.Bbtn=!1):0==t?n.autocompleteEle.hide():(n.autocompleteEle.setValue(1),n.autocompleteEle.setOptions(e),n.autocompleteEle.show().find(".sel_div,.sel_span").hide(),n.autocompleteEle.data("SelectFn")._handler(null,n.autocompleteEle))},hide:function(){var t=this;t.autocompleteEle.hide()}},t.fn.autocompleteFn=function(a){var o=this.data("AutocompleteFn");t(this).length<0||o||(a=t.extend({},n,a),this.each(function(){o=new e(t(this),a),t(this).data("AutocompleteFn",o)}))}}(jQuery);